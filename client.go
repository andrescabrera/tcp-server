package main

import (
	"encoding/hex"
	"fmt"
	"net"
	"time"
)

//import "github.com/paulrosania/go-charset/charset"

func main() {
	c, err := net.Dial("tcp", "127.0.0.1:5002")

	// single
	var b = []byte{0x01, 0x67, 0x11, 0x00, 0x7E, 0x64, 0x26, 0x49, 0x0C, 0xE1, 0xA4, 0x30, 0x16, 0x34, 0x38, 0x32, 0x34, 0x36, 0x38, 0x2A, 0x2A, 0x2A, 0x2A, 0x2A, 0x2A, 0x36, 0x36, 0x39, 0x33, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x50, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x50, 0x00, 0x20, 0x21, 0x01, 0x18, 0x16, 0x40, 0x19, 0x61, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x80, 0x27, 0x25, 0x11, 0x08, 0x40, 0x30, 0x36, 0x30, 0x30, 0x33, 0x30, 0x42, 0x30, 0x35, 0x30, 0x30, 0x30, 0x00, 0x00, 0x59, 0x72, 0x32, 0x30, 0x32, 0x31, 0x30, 0x31, 0x31, 0x38, 0x20, 0x20, 0x20, 0x20, 0x11, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x30, 0x31, 0x31, 0x30, 0x31, 0x38, 0x31, 0x36, 0x30, 0x30, 0x30, 0x38, 0x30, 0x39, 0x39, 0x34, 0x30, 0x30, 0x30, 0x31, 0x54, 0x45, 0x52, 0x4D, 0x49, 0x44, 0x30, 0x31, 0x43, 0x41, 0x52, 0x44, 0x20, 0x41, 0x43, 0x43, 0x45, 0x50, 0x54, 0x4F, 0x52, 0x20, 0x20, 0x41, 0x43, 0x51, 0x55, 0x49, 0x52, 0x45, 0x52, 0x20, 0x4E, 0x41, 0x4D, 0x45, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x43, 0x49, 0x54, 0x59, 0x20, 0x4E, 0x41, 0x4D, 0x45, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x01, 0x08, 0x32, 0x31, 0x30, 0x31, 0x30, 0x31, 0x30, 0x31, 0x30, 0x31, 0x30, 0x36, 0x38, 0x32, 0x30, 0x30, 0x30, 0x30, 0x30, 0x36, 0x38, 0x31, 0x31, 0x33, 0x38, 0x30, 0x39, 0x31, 0x30, 0x20, 0x20, 0x20, 0x20, 0x30, 0x30, 0x31, 0x38, 0x30, 0x30, 0x30, 0x30, 0x30, 0x36, 0x37, 0x30, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x31, 0x30, 0x31, 0x39, 0x30, 0x35, 0x00, 0x00, 0x53, 0x00, 0x00, 0x20, 0x33, 0x31, 0x33, 0x31, 0x30, 0x30, 0x31, 0x38, 0x30, 0x30, 0x30, 0x30, 0x30, 0x36, 0x37, 0x30, 0x30, 0x30, 0x30, 0x30, 0x31, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x31, 0x08, 0x40, 0x08, 0x40, 0x08, 0x40, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x30, 0x31, 0x30, 0x31, 0x31, 0x38, 0x31, 0x36, 0x34, 0x30, 0x31, 0x39, 0x30, 0x30, 0x30, 0x38, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x21, 0x01, 0x18}
	// 1100 two complete
	//hex := []byte {0x01,0x67,0x11,0x00,0x7E,0x64,0x26,0x49,0x0C,0xE1,0xA4,0x30,0x16,0x34,0x38,0x32,0x34,0x36,0x38,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x36,0x36,0x39,0x33,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x20,0x21,0x01,0x18,0x16,0x40,0x19,0x61,0x00,0x00,0x00,0x00,0x00,0x18,0x80,0x27,0x25,0x11,0x08,0x40,0x30,0x36,0x30,0x30,0x33,0x30,0x42,0x30,0x35,0x30,0x30,0x30,0x00,0x00,0x59,0x72,0x32,0x30,0x32,0x31,0x30,0x31,0x31,0x38,0x20,0x20,0x20,0x20,0x11,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x31,0x30,0x31,0x38,0x31,0x36,0x30,0x30,0x30,0x38,0x30,0x39,0x39,0x34,0x30,0x30,0x30,0x31,0x54,0x45,0x52,0x4D,0x49,0x44,0x30,0x31,0x43,0x41,0x52,0x44,0x20,0x41,0x43,0x43,0x45,0x50,0x54,0x4F,0x52,0x20,0x20,0x41,0x43,0x51,0x55,0x49,0x52,0x45,0x52,0x20,0x4E,0x41,0x4D,0x45,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x43,0x49,0x54,0x59,0x20,0x4E,0x41,0x4D,0x45,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x01,0x08,0x32,0x31,0x30,0x31,0x30,0x31,0x30,0x31,0x30,0x31,0x30,0x36,0x38,0x32,0x30,0x30,0x30,0x30,0x30,0x36,0x38,0x31,0x31,0x33,0x38,0x30,0x39,0x31,0x30,0x20,0x20,0x20,0x20,0x30,0x30,0x31,0x38,0x30,0x30,0x30,0x30,0x30,0x36,0x37,0x30,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x31,0x30,0x31,0x39,0x30,0x35,0x00,0x00,0x53,0x00,0x00,0x20,0x33,0x31,0x33,0x31,0x30,0x30,0x31,0x38,0x30,0x30,0x30,0x30,0x30,0x36,0x37,0x30,0x30,0x30,0x30,0x30,0x31,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x31,0x08,0x40,0x08,0x40,0x08,0x40,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x30,0x31,0x31,0x38,0x31,0x36,0x34,0x30,0x31,0x39,0x30,0x30,0x30,0x38,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x21,0x01,0x18,0x01,0x67,0x11,0x00,0x7E,0x64,0x26,0x49,0x0C,0xE1,0xA4,0x30,0x16,0x34,0x38,0x32,0x34,0x36,0x38,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x36,0x36,0x39,0x33,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x20,0x21,0x01,0x18,0x16,0x40,0x19,0x61,0x00,0x00,0x00,0x00,0x00,0x18,0x80,0x27,0x25,0x11,0x08,0x40,0x30,0x36,0x30,0x30,0x33,0x30,0x42,0x30,0x35,0x30,0x30,0x30,0x00,0x00,0x59,0x72,0x32,0x30,0x32,0x31,0x30,0x31,0x31,0x38,0x20,0x20,0x20,0x20,0x11,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x31,0x30,0x31,0x38,0x31,0x36,0x30,0x30,0x30,0x38,0x30,0x39,0x39,0x34,0x30,0x30,0x30,0x31,0x54,0x45,0x52,0x4D,0x49,0x44,0x30,0x31,0x43,0x41,0x52,0x44,0x20,0x41,0x43,0x43,0x45,0x50,0x54,0x4F,0x52,0x20,0x20,0x41,0x43,0x51,0x55,0x49,0x52,0x45,0x52,0x20,0x4E,0x41,0x4D,0x45,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x43,0x49,0x54,0x59,0x20,0x4E,0x41,0x4D,0x45,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x01,0x08,0x32,0x31,0x30,0x31,0x30,0x31,0x30,0x31,0x30,0x31,0x30,0x36,0x38,0x32,0x30,0x30,0x30,0x30,0x30,0x36,0x38,0x31,0x31,0x33,0x38,0x30,0x39,0x31,0x30,0x20,0x20,0x20,0x20,0x30,0x30,0x31,0x38,0x30,0x30,0x30,0x30,0x30,0x36,0x37,0x30,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x31,0x30,0x31,0x39,0x30,0x35,0x00,0x00,0x53,0x00,0x00,0x20,0x33,0x31,0x33,0x31,0x30,0x30,0x31,0x38,0x30,0x30,0x30,0x30,0x30,0x36,0x37,0x30,0x30,0x30,0x30,0x30,0x31,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x31,0x08,0x40,0x08,0x40,0x08,0x40,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x30,0x31,0x31,0x38,0x31,0x36,0x34,0x30,0x31,0x39,0x30,0x30,0x30,0x38,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x21,0x01,0x18}
	// 1100 one and half
	//hex := []byte {0x01,0x67,0x11,0x00,0x7E,0x64,0x26,0x49,0x0C,0xE1,0xA4,0x30,0x16,0x34,0x38,0x32,0x34,0x36,0x38,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x36,0x36,0x39,0x33,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x20,0x21,0x01,0x18,0x16,0x40,0x19,0x61,0x00,0x00,0x00,0x00,0x00,0x18,0x80,0x27,0x25,0x11,0x08,0x40,0x30,0x36,0x30,0x30,0x33,0x30,0x42,0x30,0x35,0x30,0x30,0x30,0x00,0x00,0x59,0x72,0x32,0x30,0x32,0x31,0x30,0x31,0x31,0x38,0x20,0x20,0x20,0x20,0x11,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x31,0x30,0x31,0x38,0x31,0x36,0x30,0x30,0x30,0x38,0x30,0x39,0x39,0x34,0x30,0x30,0x30,0x31,0x54,0x45,0x52,0x4D,0x49,0x44,0x30,0x31,0x43,0x41,0x52,0x44,0x20,0x41,0x43,0x43,0x45,0x50,0x54,0x4F,0x52,0x20,0x20,0x41,0x43,0x51,0x55,0x49,0x52,0x45,0x52,0x20,0x4E,0x41,0x4D,0x45,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x43,0x49,0x54,0x59,0x20,0x4E,0x41,0x4D,0x45,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x01,0x08,0x32,0x31,0x30,0x31,0x30,0x31,0x30,0x31,0x30,0x31,0x30,0x36,0x38,0x32,0x30,0x30,0x30,0x30,0x30,0x36,0x38,0x31,0x31,0x33,0x38,0x30,0x39,0x31,0x30,0x20,0x20,0x20,0x20,0x30,0x30,0x31,0x38,0x30,0x30,0x30,0x30,0x30,0x36,0x37,0x30,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x31,0x30,0x31,0x39,0x30,0x35,0x00,0x00,0x53,0x00,0x00,0x20,0x33,0x31,0x33,0x31,0x30,0x30,0x31,0x38,0x30,0x30,0x30,0x30,0x30,0x36,0x37,0x30,0x30,0x30,0x30,0x30,0x31,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x31,0x08,0x40,0x08,0x40,0x08,0x40,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x30,0x31,0x31,0x38,0x31,0x36,0x34,0x30,0x31,0x39,0x30,0x30,0x30,0x38,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x21,0x01,0x18,0x01,0x67,0x11,0x00,0x7E,0x64,0x26,0x49,0x0C,0xE1,0xA4,0x30,0x16,0x34,0x38,0x32,0x34,0x36,0x38,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x36,0x36,0x39,0x33,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x20,0x21,0x01,0x18,0x16,0x40,0x19,0x61,0x00,0x00,0x00,0x00,0x00,0x18,0x80,0x27,0x25,0x11,0x08,0x40,0x30,0x36,0x30,0x30,0x33,0x30,0x42,0x30,0x35,0x30,0x30,0x30,0x00,0x00,0x59,0x72,0x32,0x30,0x32,0x31,0x30,0x31,0x31,0x38,0x20,0x20,0x20,0x20,0x11,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x31,0x30,0x31,0x38,0x31,0x36,0x30,0x30,0x30,0x38,0x30,0x39,0x39,0x34,0x30,0x30,0x30,0x31,0x54,0x45,0x52,0x4D,0x49,0x44,0x30,0x31,0x43,0x41,0x52,0x44,0x20,0x41,0x43,0x43,0x45,0x50,0x54,0x4F,0x52,0x20,0x20,0x41,0x43,0x51,0x55,0x49,0x52,0x45,0x52,0x20,0x4E,0x41,0x4D,0x45,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x43,0x49,0x54,0x59,0x20,0x4E,0x41,0x4D,0x45,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x01,0x08,0x32,0x31,0x30,0x31,0x30,0x31,0x30,0x31,0x30,0x31,0x30,0x36,0x38,0x32,0x30,0x30,0x30,0x30,0x30,0x36,0x38,0x31,0x31,0x33,0x38,0x30,0x39,0x31,0x30,0x20,0x20,0x20,0x20,0x30,0x30,0x31,0x38,0x30,0x30,0x30,0x30,0x30,0x36,0x37,0x30,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x31,0x30,0x31,0x39,0x30,0x35,0x00,0x00,0x53,0x00,0x00,0x20,0x33,0x31,0x33,0x31,0x30,0x30,0x31,0x38,0x30,0x30,0x30,0x30,0x30,0x36,0x37,0x30,0x30,0x30,0x30,0x30,0x31,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x31,0x08,0x40,0x08,0x40,0x08,0x40,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x30,0x31,0x31,0x38,0x31,0x36,0x34,0x30,0x31,0x39,0x30,0x30,0x30,0x38,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x21,0x01,0x18}
	// 1800
	// simple
	//hex := []byte {0x00,0x34,0x18,0x00,0x00,0x30,0x04,0x10,0x00,0x01, 0x00,0x02,0x00,0x00,0x18,0x94,0x14,0x20,0x21,0x01,0x20,0x05,0x17,0x31,0x00,0x00,0x00,0x30,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,0x22,0x26,0x04,0x00,0x10,0x30,0x38,0x00,0x00,0x30,0x33,0x33,0x33,0x34,0x39,0x03,0x01}
	// simple in two message
	//hex := []byte {0x00,0x34,0x18,0x00,0x00,0x30,0x04,0x10,0x00,0x01, 0x00,0x02,0x00,0x00,0x18,0x94,0x14,0x20,0x21,0x01,0x20,0x05,0x17,0x31,0x00,0x00,0x00,0x30,0x00,0x00}
	//hex2 := []byte {0x30,0x30,0x00,0x00,0x00,0x00,0x00,0x22,0x26,0x04,0x00,0x10,0x30,0x38,0x00,0x00,0x30,0x33,0x33,0x33,0x34,0x39,0x03,0x01}
	// error
	//error := []byte {0x47,0x45,0x54,0x20,0x2F,0x6F,0x77,0x61,0x2F,0x61,0x75,0x74,0x68,0x2F,0x6C,0x6F,0x67,0x6F,0x6E,0x2E,0x61,0x73,0x70,0x78,0x3F}

	if err != nil {
		fmt.Println(err.Error())
	}
	println("Hex Request")
	fmt.Printf("%x\n", b)

	c.Write(b)

	time.Sleep(10 * time.Second)
	buf := make([]byte, 8192)
	_, err = c.Read(buf)

	if err != nil {
		fmt.Println("Error reading:", err.Error())
	}

	println("Hex Response")
	println(hex.EncodeToString(buf))
}
